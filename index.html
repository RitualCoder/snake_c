<!doctypehtml><html lang=fr><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Snake SDL2 WASM</title><link href=style.css rel=stylesheet></head><body><div class=wrapper><h1>🐍 Snake WebAssembly</h1><div class=canvas-frame><div class=canvas-container><canvas height=480 id=canvas width=480></canvas></div></div><div class=control-switch><label for=controlToggle><input id=controlToggle type=checkbox> <span class=slider></span> Joystick</label></div><div class=mobile-controls><div class=dpad><button class=up>↑</button> <button class=left>←</button> <button class=right>→</button> <button class=down>↓</button></div><div class=joystick><div class=stick></div></div></div><div class=footer><span>⏺ Flèches / Touches</span> <span>↩ Entrée / R</span> <span>⎋ Échap</span></div></div><script>var Module={canvas:document.getElementById("canvas")}</script><script async src=index.js></script><script>document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("controlToggle"),t=document.querySelector(".dpad"),n=document.querySelector(".joystick");function o(){e.checked?(t.style.display="none",n.style.display="block"):(t.style.display="grid",n.style.display="none")}e.addEventListener("change",o),window.innerWidth<=400&&o();const r={up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"};Object.keys(r).forEach((e=>{document.querySelector(`.dpad .${e}`).addEventListener("touchstart",(()=>{document.dispatchEvent(new KeyboardEvent("keydown",{key:r[e],code:r[e],bubbles:!0}))}))}));const d=document.querySelector(".joystick .stick");let s,c=!1;d.addEventListener("touchstart",(e=>{c=!0;const t=e.target.closest(".joystick").getBoundingClientRect();s={x:t.left+t.width/2,y:t.top+t.height/2}}),{passive:!1}),d.addEventListener("touchmove",(e=>{if(!c)return;const t=e.touches[0];let n=t.clientX-s.x,o=t.clientY-s.y;const r=Math.hypot(n,o);r>40&&(n=n/r*40,o=o/r*40),d.style.transform=`translate(${n}px, ${o}px)`;const a=Math.abs(n)>Math.abs(o)?n>0?"ArrowRight":"ArrowLeft":o>0?"ArrowDown":"ArrowUp";document.dispatchEvent(new KeyboardEvent("keydown",{key:a,code:a,bubbles:!0})),e.preventDefault()}),{passive:!1}),d.addEventListener("touchend",(()=>{c=!1,d.style.transform="translate(0, 0)"}))}))</script></body></html>